{
  "schema": "openagents.webparity.vercel_sse_fixture_output.v1",
  "generated_at": "20260222T180628Z",
  "scenarios": [
    {
      "id": "success_text_reasoning",
      "description": "Legacy Vercel stream shape with Codex text + reasoning deltas.",
      "events": [
        {
          "type": "start",
          "threadId": "thr_text",
          "source": "codex"
        },
        {
          "type": "start-step",
          "threadId": "thr_text",
          "turnId": "turn_text",
          "model": "gpt-5.2-codex"
        },
        {
          "type": "text-start",
          "id": "item_text_1",
          "turnId": "turn_text"
        },
        {
          "type": "text-delta",
          "id": "item_text_1",
          "channel": "assistant",
          "delta": "Hello from Codex"
        },
        {
          "type": "text-delta",
          "id": "item_text_1",
          "channel": "reasoning",
          "delta": "Inspecting context"
        },
        {
          "type": "finish-step",
          "turnId": "turn_text",
          "status": "completed"
        },
        {
          "type": "finish",
          "status": "completed"
        }
      ],
      "wire": "data: {\"source\":\"codex\",\"threadId\":\"thr_text\",\"type\":\"start\"}\\n\\ndata: {\"model\":\"gpt-5.2-codex\",\"threadId\":\"thr_text\",\"turnId\":\"turn_text\",\"type\":\"start-step\"}\\n\\ndata: {\"id\":\"item_text_1\",\"turnId\":\"turn_text\",\"type\":\"text-start\"}\\n\\ndata: {\"channel\":\"assistant\",\"delta\":\"Hello from Codex\",\"id\":\"item_text_1\",\"type\":\"text-delta\"}\\n\\ndata: {\"channel\":\"reasoning\",\"delta\":\"Inspecting context\",\"id\":\"item_text_1\",\"type\":\"text-delta\"}\\n\\ndata: {\"status\":\"completed\",\"turnId\":\"turn_text\",\"type\":\"finish-step\"}\\n\\ndata: {\"status\":\"completed\",\"type\":\"finish\"}\\n\\ndata: [DONE]\\n\\n"
    },
    {
      "id": "success_tool_then_text",
      "description": "Tool call input/output sequencing followed by assistant text.",
      "events": [
        {
          "type": "start",
          "threadId": "thr_tool",
          "source": "codex"
        },
        {
          "type": "start-step",
          "threadId": "thr_tool",
          "turnId": "turn_tool",
          "model": "gpt-5.2-codex"
        },
        {
          "type": "tool-input",
          "toolCallId": "tool_call_1",
          "toolName": "web.search",
          "input": {
            "q": "openagents status"
          }
        },
        {
          "type": "tool-output",
          "toolCallId": "tool_call_1",
          "delta": "{\"result\":\"ok\"}"
        },
        {
          "type": "tool-output",
          "toolCallId": "tool_call_1",
          "status": "completed"
        },
        {
          "type": "text-start",
          "id": "item_text_2",
          "turnId": "turn_tool"
        },
        {
          "type": "text-delta",
          "id": "item_text_2",
          "channel": "assistant",
          "delta": "Tool completed successfully"
        },
        {
          "type": "finish-step",
          "turnId": "turn_tool",
          "status": "completed"
        },
        {
          "type": "finish",
          "status": "completed"
        }
      ],
      "wire": "data: {\"source\":\"codex\",\"threadId\":\"thr_tool\",\"type\":\"start\"}\\n\\ndata: {\"model\":\"gpt-5.2-codex\",\"threadId\":\"thr_tool\",\"turnId\":\"turn_tool\",\"type\":\"start-step\"}\\n\\ndata: {\"input\":{\"q\":\"openagents status\"},\"toolCallId\":\"tool_call_1\",\"toolName\":\"web.search\",\"type\":\"tool-input\"}\\n\\ndata: {\"delta\":\"{\\\"result\\\":\\\"ok\\\"}\",\"toolCallId\":\"tool_call_1\",\"type\":\"tool-output\"}\\n\\ndata: {\"status\":\"completed\",\"toolCallId\":\"tool_call_1\",\"type\":\"tool-output\"}\\n\\ndata: {\"id\":\"item_text_2\",\"turnId\":\"turn_tool\",\"type\":\"text-start\"}\\n\\ndata: {\"channel\":\"assistant\",\"delta\":\"Tool completed successfully\",\"id\":\"item_text_2\",\"type\":\"text-delta\"}\\n\\ndata: {\"status\":\"completed\",\"turnId\":\"turn_tool\",\"type\":\"finish-step\"}\\n\\ndata: {\"status\":\"completed\",\"type\":\"finish\"}\\n\\ndata: [DONE]\\n\\n"
    },
    {
      "id": "in_stream_error",
      "description": "In-stream codex error maps to terminal error + finish + done.",
      "events": [
        {
          "type": "start",
          "threadId": "thr_error",
          "source": "codex"
        },
        {
          "type": "start-step",
          "threadId": "thr_error",
          "turnId": "turn_error",
          "model": "gpt-5.2-codex"
        },
        {
          "type": "error",
          "code": "codex_error",
          "message": "runtime unavailable",
          "retryable": false
        },
        {
          "type": "finish",
          "status": "error"
        }
      ],
      "wire": "data: {\"source\":\"codex\",\"threadId\":\"thr_error\",\"type\":\"start\"}\\n\\ndata: {\"model\":\"gpt-5.2-codex\",\"threadId\":\"thr_error\",\"turnId\":\"turn_error\",\"type\":\"start-step\"}\\n\\ndata: {\"code\":\"codex_error\",\"message\":\"runtime unavailable\",\"retryable\":false,\"type\":\"error\"}\\n\\ndata: {\"status\":\"error\",\"type\":\"finish\"}\\n\\ndata: [DONE]\\n\\n"
    }
  ]
}
