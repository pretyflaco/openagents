{
  "schema": "openagents.webparity.vercel_sse_fixture_inputs.v1",
  "scenarios": [
    {
      "id": "success_text_reasoning",
      "description": "Legacy Vercel stream shape with Codex text + reasoning deltas.",
      "events": [
        {
          "method": "thread/started",
          "params": {
            "thread_id": "thr_text"
          }
        },
        {
          "method": "turn/started",
          "params": {
            "thread_id": "thr_text",
            "turn_id": "turn_text",
            "model": "gpt-5.2-codex"
          }
        },
        {
          "method": "item/started",
          "params": {
            "thread_id": "thr_text",
            "turn_id": "turn_text",
            "item_id": "item_text_1",
            "item_kind": "agent_message"
          }
        },
        {
          "method": "item/agentMessage/delta",
          "params": {
            "thread_id": "thr_text",
            "turn_id": "turn_text",
            "item_id": "item_text_1",
            "delta": "Hello from Codex"
          }
        },
        {
          "method": "item/reasoning/summaryTextDelta",
          "params": {
            "thread_id": "thr_text",
            "turn_id": "turn_text",
            "item_id": "item_text_1",
            "delta": "Inspecting context"
          }
        },
        {
          "method": "turn/completed",
          "params": {
            "thread_id": "thr_text",
            "turn_id": "turn_text",
            "status": "completed"
          }
        }
      ]
    },
    {
      "id": "success_tool_then_text",
      "description": "Tool call input/output sequencing followed by assistant text.",
      "events": [
        {
          "method": "thread/started",
          "params": {
            "thread_id": "thr_tool"
          }
        },
        {
          "method": "turn/started",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "model": "gpt-5.2-codex"
          }
        },
        {
          "method": "item/started",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "item_id": "tool_call_1",
            "item_kind": "mcp_tool_call",
            "item": {
              "tool_name": "web.search",
              "arguments": {
                "q": "openagents status"
              }
            }
          }
        },
        {
          "method": "item/toolOutput/delta",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "item_id": "tool_call_1",
            "item_kind": "mcp_tool_call",
            "delta": "{\"result\":\"ok\"}"
          }
        },
        {
          "method": "item/completed",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "item_id": "tool_call_1",
            "item_kind": "mcp_tool_call",
            "item_status": "completed"
          }
        },
        {
          "method": "item/started",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "item_id": "item_text_2",
            "item_kind": "agent_message"
          }
        },
        {
          "method": "item/agentMessage/delta",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "item_id": "item_text_2",
            "delta": "Tool completed successfully"
          }
        },
        {
          "method": "turn/completed",
          "params": {
            "thread_id": "thr_tool",
            "turn_id": "turn_tool",
            "status": "completed"
          }
        }
      ]
    },
    {
      "id": "in_stream_error",
      "description": "In-stream codex error maps to terminal error + finish + done.",
      "events": [
        {
          "method": "thread/started",
          "params": {
            "thread_id": "thr_error"
          }
        },
        {
          "method": "turn/started",
          "params": {
            "thread_id": "thr_error",
            "turn_id": "turn_error",
            "model": "gpt-5.2-codex"
          }
        },
        {
          "method": "codex/error",
          "params": {
            "thread_id": "thr_error",
            "turn_id": "turn_error",
            "message": "runtime unavailable",
            "will_retry": false
          }
        }
      ]
    }
  ]
}
