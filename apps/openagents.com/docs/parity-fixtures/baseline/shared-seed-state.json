{
  "schema": "openagents.webparity.seed_state.v1",
  "generated_at": "2026-02-22T00:00:00Z",
  "description": "Deterministic shared fixture used by Laravel baseline and Rust parity tests.",
  "rust_stores": {
    "auth": {
      "challenges": {},
      "sessions": {},
      "access_index": {},
      "refresh_index": {},
      "revoked_refresh_tokens": {},
      "revoked_refresh_token_ids": {},
      "users_by_id": {
        "1001": {
          "id": "1001",
          "email": "parity.alpha@openagents.test",
          "name": "Parity Alpha",
          "workos_user_id": "workos_parity_alpha",
          "memberships": [
            {
              "org_id": "org:openagents",
              "org_slug": "openagents",
              "role": "owner",
              "role_scopes": [
                "*"
              ],
              "default_org": true
            }
          ]
        },
        "1002": {
          "id": "1002",
          "email": "parity.beta@openagents.test",
          "name": "Parity Beta",
          "workos_user_id": "workos_parity_beta",
          "memberships": [
            {
              "org_id": "org:openagents",
              "org_slug": "openagents",
              "role": "member",
              "role_scopes": [
                "runtime.codex_worker_events"
              ],
              "default_org": true
            }
          ]
        }
      },
      "users_by_email": {
        "parity.alpha@openagents.test": "1001",
        "parity.beta@openagents.test": "1002"
      },
      "users_by_workos_id": {
        "workos_parity_alpha": "1001",
        "workos_parity_beta": "1002"
      },
      "personal_access_tokens": {
        "pat_seed_1": {
          "token_id": "pat_seed_1",
          "user_id": "1001",
          "name": "seed-token",
          "token": "oa_pat_seed_token_alpha",
          "scopes": [
            "*"
          ],
          "created_at": "2026-02-22T00:00:00Z",
          "expires_at": null,
          "revoked_at": null
        }
      }
    },
    "codex_threads": {
      "threads": {
        "thread_seed_1": {
          "thread_id": "thread_seed_1",
          "user_id": "1001",
          "org_id": "org:openagents",
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:06:00Z",
          "message_count": 2,
          "last_message_at": "2026-02-22T00:06:00Z"
        }
      },
      "messages_by_thread": {
        "thread_seed_1": [
          {
            "message_id": "msg_seed_1",
            "thread_id": "thread_seed_1",
            "user_id": "1001",
            "role": "user",
            "text": "Seed question",
            "created_at": "2026-02-22T00:05:00Z"
          },
          {
            "message_id": "msg_seed_2",
            "thread_id": "thread_seed_1",
            "user_id": "1001",
            "role": "assistant",
            "text": "Seed answer",
            "created_at": "2026-02-22T00:06:00Z"
          }
        ]
      }
    },
    "domain": {
      "autopilots": {
        "ap_seed_1": {
          "id": "ap_seed_1",
          "owner_user_id": "1001",
          "handle": "parity-agent",
          "display_name": "Parity Agent",
          "avatar": null,
          "status": "active",
          "visibility": "private",
          "tagline": "Deterministic parity autopilot",
          "config_version": 2,
          "deleted_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      },
      "autopilot_profiles": {
        "ap_seed_1": {
          "autopilot_id": "ap_seed_1",
          "owner_display_name": "Parity Alpha",
          "persona_summary": "Seed autopilot profile",
          "autopilot_voice": "calm",
          "principles": [
            "Be deterministic"
          ],
          "preferences": {
            "tone": "direct"
          },
          "onboarding_answers": [
            {
              "question": "goal",
              "answer": "parity"
            }
          ],
          "schema_version": 1,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      },
      "autopilot_policies": {
        "ap_seed_1": {
          "autopilot_id": "ap_seed_1",
          "model_provider": "openai",
          "model": "gpt-4.1",
          "tool_allowlist": [
            "runtime.tools.execute"
          ],
          "tool_denylist": [],
          "l402_require_approval": true,
          "l402_max_spend_msats_per_call": 100000,
          "l402_max_spend_msats_per_day": 250000,
          "l402_allowed_hosts": [
            "api.openagents.test"
          ],
          "data_policy": {
            "retention": "seed"
          },
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      },
      "autopilot_runtime_bindings": {
        "arb_seed_1": {
          "id": "arb_seed_1",
          "autopilot_id": "ap_seed_1",
          "runtime_type": "runtime",
          "runtime_ref": "runtime://seed/1",
          "is_primary": true,
          "last_seen_at": "2026-02-22T00:10:00Z",
          "meta": {
            "region": "us-central1"
          },
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      },
      "l402_credentials": {
        "api.openagents.test::default": {
          "host": "api.openagents.test",
          "scope": "default",
          "macaroon": "seed-macaroon",
          "preimage": "seed-preimage",
          "expires_at": "2026-03-01T00:00:00Z",
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:00:00Z"
        }
      },
      "l402_paywalls": {
        "pw_seed_1": {
          "id": "pw_seed_1",
          "owner_user_id": "1001",
          "name": "Seed Paywall",
          "host_regexp": "api\\.openagents\\.test",
          "path_regexp": "/v1/.*",
          "price_msats": 5000,
          "upstream": "https://upstream.openagents.test",
          "enabled": true,
          "meta": {
            "tier": "seed"
          },
          "last_reconcile_status": "succeeded",
          "last_reconcile_error": null,
          "last_reconciled_at": "2026-02-22T00:11:00Z",
          "deleted_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:11:00Z"
        }
      },
      "user_spark_wallets": {
        "1001": {
          "user_id": "1001",
          "wallet_id": "wallet_seed_1",
          "mnemonic": "seed mnemonic phrase",
          "spark_address": "alpha@spark.test",
          "lightning_address": "alpha@ln.test",
          "identity_pubkey": "02seedpubkey",
          "last_balance_sats": 21000,
          "status": "active",
          "provider": "spark_executor",
          "last_error": null,
          "meta": {
            "seed": true
          },
          "last_synced_at": "2026-02-22T00:12:00Z",
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:12:00Z"
        }
      },
      "user_integrations": {
        "1001::resend": {
          "id": 1,
          "user_id": "1001",
          "provider": "resend",
          "status": "active",
          "encrypted_secret": "resend_live_seed_1234",
          "secret_fingerprint": "seed_fingerprint",
          "secret_last4": "1234",
          "metadata": {
            "sender_email": "parity.alpha@openagents.test"
          },
          "connected_at": "2026-02-22T00:00:00Z",
          "disconnected_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:13:00Z"
        }
      },
      "user_integration_audits": [
        {
          "id": 1,
          "user_id": "1001",
          "user_integration_id": 1,
          "provider": "resend",
          "action": "secret_created",
          "metadata": {
            "status": "active"
          },
          "created_at": "2026-02-22T00:13:00Z",
          "updated_at": "2026-02-22T00:13:00Z"
        }
      ],
      "comms_webhook_events": {
        "resend:seed_evt_1": {
          "id": 1,
          "provider": "resend",
          "idempotency_key": "resend:seed_evt_1",
          "external_event_id": "seed_evt_1",
          "event_type": "delivered",
          "delivery_state": "delivered",
          "message_id": "msg_seed_1",
          "integration_id": "gmail.primary",
          "user_id": "1001",
          "recipient": "parity.alpha@openagents.test",
          "signature_valid": true,
          "status": "processed",
          "normalized_hash": "seed_hash",
          "runtime_attempts": 1,
          "runtime_status_code": 202,
          "runtime_response": {
            "ok": true
          },
          "normalized_payload": {
            "state": "delivered"
          },
          "raw_payload": {
            "id": "seed_evt_1"
          },
          "last_error": null,
          "forwarded_at": "2026-02-22T00:14:00Z",
          "created_at": "2026-02-22T00:14:00Z",
          "updated_at": "2026-02-22T00:14:00Z"
        }
      },
      "comms_delivery_projections": {
        "1001::resend::gmail.primary": {
          "id": 1,
          "user_id": "1001",
          "provider": "resend",
          "integration_id": "gmail.primary",
          "last_state": "delivered",
          "last_event_at": "2026-02-22T00:14:00Z",
          "last_message_id": "msg_seed_1",
          "last_recipient": "parity.alpha@openagents.test",
          "runtime_event_id": "runtime_evt_seed_1",
          "source": "runtime_forwarder",
          "last_webhook_event_id": 1,
          "created_at": "2026-02-22T00:14:00Z",
          "updated_at": "2026-02-22T00:14:00Z"
        }
      },
      "shouts": [
        {
          "id": 1,
          "user_id": "1001",
          "zone": "general",
          "body": "Seed shout",
          "visibility": "public",
          "created_at": "2026-02-22T00:15:00Z",
          "updated_at": "2026-02-22T00:15:00Z"
        }
      ],
      "whispers": [
        {
          "id": 1,
          "sender_id": "1001",
          "recipient_id": "1002",
          "body": "Seed whisper",
          "read_at": null,
          "created_at": "2026-02-22T00:16:00Z",
          "updated_at": "2026-02-22T00:16:00Z"
        }
      ],
      "next_user_integration_id": 2,
      "next_user_integration_audit_id": 2,
      "next_comms_webhook_event_id": 2,
      "next_comms_delivery_projection_id": 2,
      "next_shout_id": 2,
      "next_whisper_id": 2
    }
  },
  "laravel_seed": {
    "tables": {
      "users": [
        {
          "id": 1001,
          "name": "Parity Alpha",
          "email": "parity.alpha@openagents.test",
          "handle": "parity-alpha",
          "workos_id": "workos_parity_alpha",
          "avatar": "https://example.test/avatars/alpha.png",
          "email_verified_at": "2026-02-22T00:00:00Z",
          "remember_token": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:00:00Z"
        },
        {
          "id": 1002,
          "name": "Parity Beta",
          "email": "parity.beta@openagents.test",
          "handle": "parity-beta",
          "workos_id": "workos_parity_beta",
          "avatar": "https://example.test/avatars/beta.png",
          "email_verified_at": "2026-02-22T00:00:00Z",
          "remember_token": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:00:00Z"
        }
      ],
      "personal_access_tokens": [
        {
          "id": 9001,
          "tokenable_type": "App\\Models\\User",
          "tokenable_id": 1001,
          "name": "seed-token",
          "token": "1111111111111111111111111111111111111111111111111111111111111111",
          "abilities": [
            "*"
          ],
          "last_used_at": null,
          "expires_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:00:00Z"
        }
      ],
      "threads": [
        {
          "id": "00000000-0000-7000-8000-000000000001",
          "user_id": 1001,
          "title": "Seed Thread",
          "created_at": "2026-02-22T00:05:00Z",
          "updated_at": "2026-02-22T00:06:00Z",
          "autopilot_id": "00000000-0000-7000-8000-000000000111"
        }
      ],
      "messages": [
        {
          "id": "00000000-0000-7000-8000-000000000101",
          "thread_id": "00000000-0000-7000-8000-000000000001",
          "run_id": null,
          "user_id": 1001,
          "role": "user",
          "content": "Seed question",
          "meta": {
            "fixture": true
          },
          "created_at": "2026-02-22T00:05:00Z",
          "updated_at": "2026-02-22T00:05:00Z"
        },
        {
          "id": "00000000-0000-7000-8000-000000000102",
          "thread_id": "00000000-0000-7000-8000-000000000001",
          "run_id": null,
          "user_id": 1001,
          "role": "assistant",
          "content": "Seed answer",
          "meta": {
            "fixture": true
          },
          "created_at": "2026-02-22T00:06:00Z",
          "updated_at": "2026-02-22T00:06:00Z"
        }
      ],
      "autopilots": [
        {
          "id": "00000000-0000-7000-8000-000000000111",
          "owner_user_id": 1001,
          "handle": "parity-agent",
          "display_name": "Parity Agent",
          "avatar": null,
          "status": "active",
          "visibility": "private",
          "tagline": "Deterministic parity autopilot",
          "config_version": 2,
          "deleted_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      ],
      "autopilot_profiles": [
        {
          "autopilot_id": "00000000-0000-7000-8000-000000000111",
          "owner_display_name": "Parity Alpha",
          "persona_summary": "Seed autopilot profile",
          "autopilot_voice": "calm",
          "principles": [
            "Be deterministic"
          ],
          "preferences": {
            "tone": "direct"
          },
          "onboarding_answers": [
            {
              "question": "goal",
              "answer": "parity"
            }
          ],
          "schema_version": 1,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      ],
      "autopilot_policies": [
        {
          "autopilot_id": "00000000-0000-7000-8000-000000000111",
          "model_provider": "openai",
          "model": "gpt-4.1",
          "tool_allowlist": [
            "runtime.tools.execute"
          ],
          "tool_denylist": [],
          "l402_require_approval": true,
          "l402_max_spend_msats_per_call": 100000,
          "l402_max_spend_msats_per_day": 250000,
          "l402_allowed_hosts": [
            "api.openagents.test"
          ],
          "data_policy": {
            "retention": "seed"
          },
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      ],
      "autopilot_runtime_bindings": [
        {
          "id": "00000000-0000-7000-8000-000000000121",
          "autopilot_id": "00000000-0000-7000-8000-000000000111",
          "runtime_type": "runtime",
          "runtime_ref": "runtime://seed/1",
          "is_primary": true,
          "last_seen_at": "2026-02-22T00:10:00Z",
          "meta": {
            "region": "us-central1"
          },
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:10:00Z"
        }
      ],
      "l402_credentials": [
        {
          "id": 1,
          "host": "api.openagents.test",
          "scope": "default",
          "macaroon": "seed-macaroon",
          "preimage": "seed-preimage",
          "expires_at": "2026-03-01T00:00:00Z",
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:00:00Z"
        }
      ],
      "l402_paywalls": [
        {
          "id": "00000000-0000-7000-8000-000000000131",
          "owner_user_id": 1001,
          "name": "Seed Paywall",
          "host_regexp": "api\\.openagents\\.test",
          "path_regexp": "/v1/.*",
          "price_msats": 5000,
          "upstream": "https://upstream.openagents.test",
          "enabled": true,
          "meta": {
            "tier": "seed"
          },
          "last_reconcile_status": "succeeded",
          "last_reconcile_error": null,
          "last_reconciled_at": "2026-02-22T00:11:00Z",
          "deleted_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:11:00Z"
        }
      ],
      "user_spark_wallets": [
        {
          "id": 1,
          "user_id": 1001,
          "wallet_id": "wallet_seed_1",
          "mnemonic": "seed mnemonic phrase",
          "spark_address": "alpha@spark.test",
          "lightning_address": "alpha@ln.test",
          "identity_pubkey": "02seedpubkey",
          "last_balance_sats": 21000,
          "status": "active",
          "provider": "spark_executor",
          "last_error": null,
          "meta": {
            "seed": true
          },
          "last_synced_at": "2026-02-22T00:12:00Z",
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:12:00Z"
        }
      ],
      "user_integrations": [
        {
          "id": 1,
          "user_id": 1001,
          "provider": "resend",
          "status": "active",
          "encrypted_secret": "resend_live_seed_1234",
          "secret_fingerprint": "seed_fingerprint",
          "secret_last4": "1234",
          "metadata": {
            "sender_email": "parity.alpha@openagents.test"
          },
          "connected_at": "2026-02-22T00:00:00Z",
          "disconnected_at": null,
          "created_at": "2026-02-22T00:00:00Z",
          "updated_at": "2026-02-22T00:13:00Z"
        }
      ],
      "user_integration_audits": [
        {
          "id": 1,
          "user_id": 1001,
          "user_integration_id": 1,
          "provider": "resend",
          "action": "secret_created",
          "metadata": {
            "status": "active"
          },
          "created_at": "2026-02-22T00:13:00Z",
          "updated_at": "2026-02-22T00:13:00Z"
        }
      ],
      "comms_webhook_events": [
        {
          "id": 1,
          "provider": "resend",
          "idempotency_key": "resend:seed_evt_1",
          "external_event_id": "seed_evt_1",
          "event_type": "delivered",
          "delivery_state": "delivered",
          "message_id": "msg_seed_1",
          "integration_id": "gmail.primary",
          "user_id": 1001,
          "recipient": "parity.alpha@openagents.test",
          "signature_valid": true,
          "status": "processed",
          "normalized_hash": "seed_hash",
          "runtime_attempts": 1,
          "runtime_status_code": 202,
          "runtime_response": {
            "ok": true
          },
          "normalized_payload": {
            "state": "delivered"
          },
          "raw_payload": {
            "id": "seed_evt_1"
          },
          "last_error": null,
          "forwarded_at": "2026-02-22T00:14:00Z",
          "created_at": "2026-02-22T00:14:00Z",
          "updated_at": "2026-02-22T00:14:00Z"
        }
      ],
      "comms_delivery_projections": [
        {
          "id": 1,
          "user_id": 1001,
          "provider": "resend",
          "integration_id": "gmail.primary",
          "last_state": "delivered",
          "last_event_at": "2026-02-22T00:14:00Z",
          "last_message_id": "msg_seed_1",
          "last_recipient": "parity.alpha@openagents.test",
          "runtime_event_id": "runtime_evt_seed_1",
          "source": "runtime_forwarder",
          "last_webhook_event_id": 1,
          "created_at": "2026-02-22T00:14:00Z",
          "updated_at": "2026-02-22T00:14:00Z"
        }
      ],
      "shouts": [
        {
          "id": 1,
          "user_id": 1001,
          "zone": "general",
          "body": "Seed shout",
          "visibility": "public",
          "created_at": "2026-02-22T00:15:00Z",
          "updated_at": "2026-02-22T00:15:00Z"
        }
      ],
      "whispers": [
        {
          "id": 1,
          "sender_id": 1001,
          "recipient_id": 1002,
          "body": "Seed whisper",
          "read_at": null,
          "created_at": "2026-02-22T00:16:00Z",
          "updated_at": "2026-02-22T00:16:00Z"
        }
      ]
    }
  }
}
